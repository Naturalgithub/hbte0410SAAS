{"version":3,"sources":["webpack:///src/views/softwaremanage/softList/ProductManage.vue","webpack:///./src/views/softwaremanage/softList/ProductManage.vue?160c","webpack:///./src/views/softwaremanage/softList/ProductManage.vue"],"names":["ProductManage","data","softwareName","softwareListoptions","typeValue","typeOptions","value","label","uploadAddress","PJName","rules","customerName","required","message","trigger","useName","useDepartment","customerAddress","customerEmail","startTime","endTime","passId","downdialogVisible","downForm","user","id","software","deviceInfo","firmwareInfo","comment","timeValue","pagenum","total","page","pageSize","options","defaultProps","children","addData","cprops","checkStrictly","dialogVisible","changedialogVisible","form","parentId","productName","changeform","projectList","created","_this","this","getSoftwareLists","getProductList","JSON","parse","localStorage","getItem","$nextTick","$refs","treeBox","setCurrentKey","methods","_this2","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","$http","getSoftwareList","sent","stop","delCurrentProduct","row","_this3","_callee2","res","_context2","$confirm","type","deleteProductList","code","$message","success","error","t0","upLoadType","addProdcutName","_this4","_callee3","_context3","addproductList","form1","resetFields","errMsg","changeProductList","_this5","_callee4","_context4","updateProductList","handleChange","length","append","_this6","_callee5","_context5","_this7","_callee6","_context6","getproductList","result","setDisable","count","maxNum","_this8","forEach","v","disabled","remove","node","_this9","_callee7","_ref","aa","parent","index","_context7","findIndex","d","splice","handleSizeChange","val","pagesize","getProjectList","handleCurrentChange","handleNodeClick","checked","_this10","_callee8","_context8","_this11","_callee9","_context9","name","fileType","showDownDialog","_this12","_callee10","baseurl","_context10","$store","state","recordadd","window","location","href","downloadProduct","_this13","validate","valid","UpdateRecordadd","_this14","_callee11","_context11","searchPJName","searchTime","routeTime","softList_ProductManage","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","on","click","$event","_v","staticStyle","width","range-separator","start-placeholder","end-placeholder","value-format","clearable","change","model","callback","$$v","expression","placeholder","_l","item","key","nativeOn","keyup","ref","node-key","props","highlight-current","node-click","scopedSlots","_u","fn","_s","size","border","align","prop","obj","plain","icon","margin-top","background","current-page","page-sizes","page-size","layout","size-change","current-change","title","visible","update:visible","label-width","$set","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.d70aae9416fff7707bf3.js","sourcesContent":["<template>\n<!-- 产品管理 -->\n  <div class=\"AccountingItem\">\n    <div>\n      <!-- style=\"border-bottom: 2px solid orange;margin-bottom:10px\" -->\n      <el-row>\n        <el-col :span=\"6\">\n          <!-- 按钮添加 -->\n          <el-button class=\"addBtn\" type=\"success\" @click=\"dialogVisible = true\">添加</el-button>\n        </el-col>\n\n        <el-col :span=\"6\">\n          <el-form>\n            <el-form-item label=\" 上传时间:\">\n              <el-date-picker\n                style=\"width:70%\"\n                v-model=\"timeValue\"\n                type=\"daterange\"\n                range-separator=\"至\"\n                start-placeholder=\"开始日期\"\n                end-placeholder=\"结束日期\"\n                @change=\"searchTime\"\n                value-format=\"yyyy-MM\"\n                clearable\n              ></el-date-picker>\n            </el-form-item>\n          </el-form>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-form>\n            <el-form-item label=\"上传类型\">\n              <el-select\n                style=\"width:70%\"\n                v-model=\"typeValue\"\n                placeholder=\"请选择\"\n                @change=\"upLoadType\"\n              >\n                <el-option\n                  v-for=\"item in typeOptions\"\n                  :key=\"item.value\"\n                  :label=\"item.label\"\n                  :value=\"item.value\"\n                  :disabled=\"item.disabled\"\n                ></el-option>\n              </el-select>\n            </el-form-item>\n          </el-form>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-form>\n            <el-form-item label=\"软件名称\">\n              <el-input v-model=\"PJName\" style=\"width:50%\" @keyup.native=\"searchPJName\"></el-input>\n            </el-form-item>\n          </el-form>\n        </el-col>\n      </el-row>\n    </div>\n    <!-- <el-form :inline=\"true\">\n      <el-row>\n        <el-col :span=\"6\">\n          <el-form-item label=\"软件名称\">\n            <el-input :lg=\"12\" v-model=\"customerName\" @keyup.native=\"searchCst\"></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"5\"></el-col>\n      </el-row>\n    </el-form>-->\n    <!-- 树形图 -->\n    <!-- default-expand-all -->\n    <div class=\"block fl\" style=\"width:20%\">\n      <el-tree\n        ref=\"treeBox\"\n        :data=\"data\"\n        node-key=\"id\"\n        :props=\"defaultProps\"\n        highlight-current\n        @node-click=\"handleNodeClick\"\n      >\n        <span slot-scope=\"{ node, data }\" class=\"custom-tree-node\">\n          <span class=\"el-icon-notebook-2\">&nbsp;&nbsp;{{ data.productName }}</span>\n          <!-- <span class=\"el-icon-notebook-2\">&nbsp;&nbsp;{{ data.productName }}-{{ node.label }}</span> -->\n          <span>\n            <el-button\n              type=\"text\"\n              size=\"mini\"\n              @click=\"() => append(data)\"\n            >&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp; 修改</el-button>\n            <el-button type=\"text\" size=\"mini\" @click=\"() => remove(node, data)\">删除</el-button>\n          </span>\n        </span>\n      </el-tree>\n    </div>\n    <div class=\"fr ml10\">\n      <el-table :data=\"projectList\" border size=\"mini\">\n        <el-table-column align=\"center\" type=\"index\" label=\"序号\"></el-table-column>\n        <el-table-column align=\"center\" prop=\"name\" label=\"名称\"></el-table-column>\n\n        <el-table-column align=\"center\" prop=\"version\" label=\"版本信息\"></el-table-column>\n        <el-table-column align=\"center\" prop=\"user.name\" label=\"上传人\"></el-table-column>\n        <el-table-column align=\"center\" prop=\"uploadTime\" label=\"上传时间\"></el-table-column>\n        <el-table-column align=\"center\" prop=\"swProject.projectName\" label=\"项目名称\"></el-table-column>\n        <el-table-column align=\"center\" prop=\"swProject.comment\" label=\"描述\"></el-table-column>\n        <el-table-column align=\"center\" prop=\"downloadSize\" label=\"下载次数\"></el-table-column>\n        <el-table-column align=\"center\" prop=\"swProject.comment\" label=\"操作\">\n          <template v-slot:default=\"obj\">\n            <el-button\n              plain\n              size=\"small\"\n              @click=\"showDownDialog(obj.row)\"\n              type=\"primary\"\n              icon=\"el-icon-download\"\n            ></el-button>\n            <el-button\n              plain\n              size=\"small\"\n              type=\"danger\"\n              icon=\"el-icon-delete\"\n              @click=\"delCurrentProduct(obj.row)\"\n            />\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n        style=\"margin-top:10px\"\n        background\n        :current-page=\"page\"\n        @size-change=\"handleSizeChange\"\n        :page-sizes=\"[30, 50, 80]\"\n        @current-change=\"handleCurrentChange\"\n        :page-size=\"pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n      />\n    </div>\n    <!-- 添加对话框 -->\n    <!-- 添加的对话框 -->\n    <el-dialog title=\"产品线管理\" :visible.sync=\"dialogVisible\" width=\"40%\">\n      <el-form ref=\"form1\" :model=\"form\" label-width=\"80px\">\n        <el-form-item label=\"名称\" prop=\"productName\">\n          <el-input v-model=\"form.productName\" placeholder=\"名称\" />\n        </el-form-item>\n        <el-form-item label=\"产品线\">\n          <el-cascader\n            style=\"width:100%\"\n            :options=\"options\"\n            :props=\"cprops\"\n            clearable\n            placeholder=\"请选择(默认为一级分类)\"\n            @change=\"handleChange\"\n          >\n            <template v-slot:default=\"obj\">\n              <span>{{ obj.data.productName }}</span>\n            </template>\n          </el-cascader>\n        </el-form-item>\n        <!-- <el-form-item label=\"软件名称\">\n          <el-select v-model=\"softwareName\" multiple placeholder=\"请选择\">\n            <el-option\n              v-for=\"item in softwareListoptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            ></el-option>\n          </el-select>\n        </el-form-item>-->\n      </el-form>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addProdcutName\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <!-- 修改框对话框 -->\n    <el-dialog title=\"修改\" :visible.sync=\"changedialogVisible\" width=\"40%\">\n      <el-form ref=\"form\" :model=\"changeform\" label-width=\"80px\">\n        <el-form-item label=\"产品名称\">\n          <el-input v-model=\"changeform.productName\" />\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"changedialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"changeProductList\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <!-- 下载 -->\n    <el-dialog title=\"下载\" :visible.sync=\"downdialogVisible\" width=\"40%\">\n      <el-form ref=\"downForm\" :model=\"downForm\" :rules=\"rules\" label-width=\"100px\">\n        <el-form-item label=\"客户名称\" prop=\"customerName\">\n          <el-input v-model=\"downForm.customerName\" />\n        </el-form-item>\n        <el-form-item label=\"使用人\" prop=\"useName\">\n          <el-input v-model=\"downForm.useName\" />\n        </el-form-item>\n        <el-form-item label=\"使用部门\" prop=\"useDepartment\">\n          <el-input v-model=\"downForm.useDepartment\" />\n        </el-form-item>\n        <el-form-item label=\"客户地址\" prop=\"customerAddress\">\n          <el-input v-model=\"downForm.customerAddress\" />\n        </el-form-item>\n        <el-form-item label=\"客户邮箱\" prop=\"customerEmail\">\n          <el-input v-model=\"downForm.customerEmail\" />\n        </el-form-item>\n        <!-- <el-form-item label=\"联系方式\">\n          <el-input v-model=\"downForm.phoneType\" />\n        </el-form-item>-->\n        <el-form-item label=\"设备信息\">\n          <el-input v-model=\"downForm.deviceInfo\" />\n        </el-form-item>\n        <el-form-item label=\"固件信息\" prop>\n          <el-input v-model=\"downForm.firmwareInfo\" />\n        </el-form-item>\n        <el-form-item label=\"备注\" prop>\n          <el-input v-model=\"downForm.comment\" />\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"downdialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"downloadProduct\">下 载</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      softwareName: [],\n      softwareListoptions: [],\n      typeValue: '',\n      typeOptions: [\n        { value: 2, label: '文档' }, { value: 1, label: '软件' }, { value: '', label: '全部' }\n      ],\n      uploadAddress: '',\n      PJName: '',\n      rules: {\n        customerName: [\n          { required: true, message: '请输入客户名称', trigger: ['blur', 'change'] }\n        ],\n        useName: [\n          { required: true, message: '请输入使用人', trigger: ['blur', 'change'] }\n        ],\n        useDepartment: [\n          { required: true, message: '请输入使用部门', trigger: ['blur', 'change'] }\n        ],\n        customerAddress: [\n          { required: true, message: '请输入客户地址', trigger: ['blur', 'change'] }\n        ],\n        customerEmail: [\n          { required: true, message: '请输入客户邮箱', trigger: ['blur', 'change'] }\n        ]\n      },\n      startTime: '',\n      endTime: '',\n      passId: '',\n      downdialogVisible: false,\n      downForm: {\n        user: { id: '' },\n        software: { id: '' },\n        customerName: '',\n        useName: '',\n        useDepartment: '',\n        customerAddress: '',\n        customerEmail: '',\n        deviceInfo: '',\n        firmwareInfo: '',\n        comment: ''\n      },\n      timeValue: '',\n      pagenum: '',\n      total: 0,\n      page: 1,\n      pageSize: 50,\n      // 级联数据\n      options: [],\n      // 树形显示\n      defaultProps: {\n        children: 'children',\n        label: 'accountTitleName'\n      },\n      addData: '',\n      // 级联选择器\n      cprops: {\n        checkStrictly: true,\n        label: 'productName',\n        value: 'id',\n        // value: '[accountTitleId,accountTitleName,accountTitleParentId]',\n        children: 'children'\n      },\n      data: [],\n      dialogVisible: false,\n      changedialogVisible: false,\n      form: {\n        parentId: '',\n        productName: ''\n      },\n      changeform: {\n        id: '',\n        productName: ''\n      },\n      projectList: []\n    }\n  },\n  created () {\n    this.getSoftwareLists()\n    this.getProductList()\n    // this.getSoftwareList()\n    this.downForm.user.id = +JSON.parse(localStorage.getItem('data')).id\n    // console.log(this.userId)\n    this.$nextTick(() => {\n      this.$refs.treeBox.setCurrentKey(24) // treeBox 元素的ref   value 绑定的node-key\n    })\n  },\n  methods: {\n    async getSoftwareLists () {\n      const res = await this.$http.getSoftwareList({ page: 1, pageSize: 1000 })\n      console.log(res.result)\n    },\n    async delCurrentProduct (row) {\n      console.log(row)\n      try {\n        await this.$confirm('亲, 你确认要删除么?', '温馨提示', {\n          type: 'warning'\n        })\n        const res = await this.$http.deleteProductList({ id: this.passId, software: { id: row.id } })\n        if (res.code == 0) {\n          this.$message.success('删除成功')\n          this.getSoftwareList()\n        } else {\n          this.$message.error(res.message)\n        }\n      } catch (e) {\n        console.log(e)\n      }\n    },\n    upLoadType () { this.getSoftwareList() },\n    async addProdcutName () {\n      const data = await this.$http.addproductList(this.form)\n      console.log(data)\n      if (data.code == 0) {\n        this.$refs.form1.resetFields()\n        this.$message.success('添加成功')\n      } else {\n        this.$message.error(data.errMsg)\n      }\n      this.dialogVisible = false\n      this.getProductList()\n    },\n    async changeProductList () {\n      const res = await this.$http.updateProductList(this.changeform)\n\n      if (res.code == 0) {\n        this.$message.success('修改成功')\n      } else {\n        this.$message.error(res.message)\n      }\n\n      this.changedialogVisible = false\n      this.getProductList()\n    },\n    // 会计科目级联选择器\n    handleChange (value) {\n      if (value == null) {\n        this.form.parentId = ''\n        return\n      }\n      console.log(value[value.length - 1])\n      this.form.parentId = value[value.length - 1] || -1\n    },\n    // 树形图\n    async append (data) {\n      console.log(data.id)\n      this.changeform.id = data.id\n      this.changeform.productName = data.productName\n\n      this.changedialogVisible = true\n    },\n    async getProductList () {\n      const data = await this.$http.getproductList()\n      console.log(data.result)\n      // data.result = this.setDisable(2, data.result, 2)\n\n      console.log(data.result)\n\n      this.data = data.result\n      this.options = this.setDisable(2, data.result, 2)\n    },\n    setDisable (count, data, maxNum) {\n      if (count > maxNum) {\n        data.forEach(v => {\n          v.disabled = true\n        })\n      } else {\n        data.forEach(v => {\n          v.count = count // 设置最外层数据的初始count\n          if (v.children && v.children.length) {\n            v.count++\n            this.setDisable(v.count, v.children, maxNum) // 子级循环时把这一层数据的count传入\n          }\n        })\n      }\n      return data\n    },\n\n    async remove (node, data) {\n      console.log(data.id)\n\n      try {\n        await this.$confirm(\n          '确认要删除么?',\n          '温馨提示',\n          {\n            type: 'warning'\n          }\n        )\n\n        // 能到这里, 说明确认了\n        const { aa } = await this.$http.deleteProductList({ id: data.id })\n        // console.log(aa)\n        if (aa.code === 0) {\n          this.$message.success('删除成功')\n          // 重新渲染\n        } else {\n          this.$message.error(aa.errMsg)\n        }\n      } catch (e) {\n        // console.log(e)\n      }\n      this.getProductList()\n      const parent = node.parent\n      const children = parent.data.children || parent.data\n      const index = children.findIndex(d => d.id === data.id)\n      children.splice(index, 1)\n    },\n    handleSizeChange (val) {\n      // console.log(`每页 ${val} 条`)\n      // 更新每页条数\n      this.pagesize = val\n      // 只要修改了每页条数, 数据所在的页码发生了变化了, 回到第一页\n      this.pagenum = 1\n      // 重新渲染\n      this.getProjectList()\n    },\n    handleCurrentChange (val) {\n      // 更新当前页\n      this.pagenum = val\n      // 重新渲染\n      this.getProjectList()\n    },\n    async handleNodeClick (data, checked, node) {\n      console.log(data.id)\n      this.passId = data.id\n      this.getSoftwareList()\n    },\n    async getSoftwareList () {\n      const res = await this.$http.getSoftwareList({ id: this.passId, page: this.page, pageSize: this.pageSize, startTime: this.startTime, endTime: this.endTime, name: this.PJName, fileType: this.typeValue })\n      console.log(res)\n      this.total = res.result.length\n      this.projectList = res.result\n    },\n    async showDownDialog (row) {\n      this.uploadAddress = row.uploadAddress\n      this.downForm.software.id = row.id\n      console.log(row.fileType)\n      if (row.fileType == 2) {\n        let baseurl = this.$store.state.baseurl\n        const data = await this.$http.recordadd({ user: { id: this.downForm.user.id }, software: { id: row.id } })\n        if (data.code == 0) {\n          this.$message.success('正在下载...')\n          window.location.href = baseurl + this.uploadAddress\n        } else {\n          this.$message.error(data.message)\n        }\n      } else {\n        this.downdialogVisible = true\n      }\n    },\n    downloadProduct () {\n      let type = 2\n      if (\n        type == 2\n      ) {\n        this.$refs['downForm'].validate((valid) => {\n          if (valid) {\n            console.log('submit!!')\n            this.UpdateRecordadd()\n          } else {\n            console.log('error submit!!')\n            return false\n          }\n        })\n      }\n    },\n    async  UpdateRecordadd (v) {\n      const res = await this.$http.recordadd(this.downForm)\n      if (res.code == 0) {\n        this.$message.success('保存成功,准备下载')\n        this.downdialogVisible = false\n        console.log(res)\n        let baseurl = this.$store.state.baseurl\n        window.location.href = baseurl + this.uploadAddress\n        this.getSoftwareList()\n      } else {\n        this.$message.error(res.message)\n      }\n    },\n    searchPJName (value) {\n      console.log(value)\n      this.getSoftwareList()\n    },\n    searchTime (routeTime) {\n      console.log(routeTime)\n      if (routeTime == null) {\n        this.startTime = ''\n        this.endTime = ''\n        this.getSoftwareList()\n        return\n      }\n      this.startTime = routeTime[0]\n      this.endTime = routeTime[1]\n      this.getSoftwareList()\n    }\n  }\n}\n</script>\n\n<style lang='scss' scoped>\n.AccountingItem {\n  width: 100%;\n  height: 100%;\n}\n.fl {\n  float: left;\n  background-color: #fff;\n  height: 90%;\n}\n.fr {\n  padding-left: 24%;\n  padding-right: 1%;\n}\n.ml10 {\n  width: 74%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/softwaremanage/softList/ProductManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"AccountingItem\"},[_c('div',[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-button',{staticClass:\"addBtn\",attrs:{\"type\":\"success\"},on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(\"添加\")])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\" 上传时间:\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"70%\"},attrs:{\"type\":\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM\",\"clearable\":\"\"},on:{\"change\":_vm.searchTime},model:{value:(_vm.timeValue),callback:function ($$v) {_vm.timeValue=$$v},expression:\"timeValue\"}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"上传类型\"}},[_c('el-select',{staticStyle:{\"width\":\"70%\"},attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.upLoadType},model:{value:(_vm.typeValue),callback:function ($$v) {_vm.typeValue=$$v},expression:\"typeValue\"}},_vm._l((_vm.typeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value,\"disabled\":item.disabled}})}),1)],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"软件名称\"}},[_c('el-input',{staticStyle:{\"width\":\"50%\"},nativeOn:{\"keyup\":function($event){return _vm.searchPJName($event)}},model:{value:(_vm.PJName),callback:function ($$v) {_vm.PJName=$$v},expression:\"PJName\"}})],1)],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"block fl\",staticStyle:{\"width\":\"20%\"}},[_c('el-tree',{ref:\"treeBox\",attrs:{\"data\":_vm.data,\"node-key\":\"id\",\"props\":_vm.defaultProps,\"highlight-current\":\"\"},on:{\"node-click\":_vm.handleNodeClick},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('span',{staticClass:\"el-icon-notebook-2\"},[_vm._v(\"  \"+_vm._s(data.productName))]),_vm._v(\" \"),_c('span',[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function () { return _vm.append(data); }}},[_vm._v(\"   |    修改\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function () { return _vm.remove(node, data); }}},[_vm._v(\"删除\")])],1)])}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"fr ml10\"},[_c('el-table',{attrs:{\"data\":_vm.projectList,\"border\":\"\",\"size\":\"mini\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"type\":\"index\",\"label\":\"序号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"name\",\"label\":\"名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"version\",\"label\":\"版本信息\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"user.name\",\"label\":\"上传人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"uploadTime\",\"label\":\"上传时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"swProject.projectName\",\"label\":\"项目名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"swProject.comment\",\"label\":\"描述\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"downloadSize\",\"label\":\"下载次数\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"swProject.comment\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(obj){return [_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-download\"},on:{\"click\":function($event){return _vm.showDownDialog(obj.row)}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"small\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.delCurrentProduct(obj.row)}}})]}}])})],1),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"background\":\"\",\"current-page\":_vm.page,\"page-sizes\":[30, 50, 80],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"产品线管理\",\"visible\":_vm.dialogVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"form1\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"productName\"}},[_c('el-input',{attrs:{\"placeholder\":\"名称\"},model:{value:(_vm.form.productName),callback:function ($$v) {_vm.$set(_vm.form, \"productName\", $$v)},expression:\"form.productName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"产品线\"}},[_c('el-cascader',{staticStyle:{\"width\":\"100%\"},attrs:{\"options\":_vm.options,\"props\":_vm.cprops,\"clearable\":\"\",\"placeholder\":\"请选择(默认为一级分类)\"},on:{\"change\":_vm.handleChange},scopedSlots:_vm._u([{key:\"default\",fn:function(obj){return [_c('span',[_vm._v(_vm._s(obj.data.productName))])]}}])})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addProdcutName}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"修改\",\"visible\":_vm.changedialogVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.changedialogVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.changeform,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"产品名称\"}},[_c('el-input',{model:{value:(_vm.changeform.productName),callback:function ($$v) {_vm.$set(_vm.changeform, \"productName\", $$v)},expression:\"changeform.productName\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.changedialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.changeProductList}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"下载\",\"visible\":_vm.downdialogVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.downdialogVisible=$event}}},[_c('el-form',{ref:\"downForm\",attrs:{\"model\":_vm.downForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"客户名称\",\"prop\":\"customerName\"}},[_c('el-input',{model:{value:(_vm.downForm.customerName),callback:function ($$v) {_vm.$set(_vm.downForm, \"customerName\", $$v)},expression:\"downForm.customerName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"使用人\",\"prop\":\"useName\"}},[_c('el-input',{model:{value:(_vm.downForm.useName),callback:function ($$v) {_vm.$set(_vm.downForm, \"useName\", $$v)},expression:\"downForm.useName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"使用部门\",\"prop\":\"useDepartment\"}},[_c('el-input',{model:{value:(_vm.downForm.useDepartment),callback:function ($$v) {_vm.$set(_vm.downForm, \"useDepartment\", $$v)},expression:\"downForm.useDepartment\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"客户地址\",\"prop\":\"customerAddress\"}},[_c('el-input',{model:{value:(_vm.downForm.customerAddress),callback:function ($$v) {_vm.$set(_vm.downForm, \"customerAddress\", $$v)},expression:\"downForm.customerAddress\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"客户邮箱\",\"prop\":\"customerEmail\"}},[_c('el-input',{model:{value:(_vm.downForm.customerEmail),callback:function ($$v) {_vm.$set(_vm.downForm, \"customerEmail\", $$v)},expression:\"downForm.customerEmail\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"设备信息\"}},[_c('el-input',{model:{value:(_vm.downForm.deviceInfo),callback:function ($$v) {_vm.$set(_vm.downForm, \"deviceInfo\", $$v)},expression:\"downForm.deviceInfo\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"固件信息\",\"prop\":\"\"}},[_c('el-input',{model:{value:(_vm.downForm.firmwareInfo),callback:function ($$v) {_vm.$set(_vm.downForm, \"firmwareInfo\", $$v)},expression:\"downForm.firmwareInfo\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"\"}},[_c('el-input',{model:{value:(_vm.downForm.comment),callback:function ($$v) {_vm.$set(_vm.downForm, \"comment\", $$v)},expression:\"downForm.comment\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.downdialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.downloadProduct}},[_vm._v(\"下 载\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a7c9c3f8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/softwaremanage/softList/ProductManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a7c9c3f8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ProductManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProductManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProductManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a7c9c3f8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProductManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a7c9c3f8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/softwaremanage/softList/ProductManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}