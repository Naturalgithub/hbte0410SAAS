webpackJsonp([9],{"5NPT":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("Xxa5"),s=r.n(a),i=r("exGp"),n=r.n(i),o={data:function(){return{endTime:"",startTime:"",pagenum:"",total:0,page:1,pageSize:50,customerName:"",software:{name:null},detailCustomerVisible:!1,detailVisible:!1,detailForm:{comment:"",software:{name:"",version:"",uploadTime:"",user:{name:""},swProject:{projectName:""},downloadSize:""}},CustomerdetailForm:{customerName:"",customerAddress:"",customerEmail:"",useName:"",useDepartment:"",deviceInfo:"",firmwareInfo:"",comment:""},timeValue:"",historyList:[]}},created:function(){this.getrecordList()},methods:{delCurrentProject:function(e){var t=this;return n()(s.a.mark(function r(){var a;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$confirm("亲, 你确认要删除么?","温馨提示",{type:"warning"});case 3:return r.next=5,t.$http.recorddelete({id:e.id});case 5:0==(a=r.sent).code?(t.$message.success("删除成功"),t.getrecordList()):t.$message.error(a.message),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0);case 12:case"end":return r.stop()}},r,t,[[0,9]])}))()},clearable:function(){},getrecordList:function(){var e=this;return n()(s.a.mark(function t(){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.recordList({page:e.page,pageSize:e.pageSize,customerName:e.customerName,startTime:e.startTime,endTime:e.endTime,name:e.software.name});case 2:r=t.sent,e.total=r.result.length,e.historyList=r.result;case 6:case"end":return t.stop()}},t,e)}))()},passDetail:function(e){this.detailForm=e,this.detailVisible=!0},passCustomerDetail:function(e){this.CustomerdetailForm=e,this.detailCustomerVisible=!0},searchTime:function(e){if(null==e)return this.endTime="",this.startTime="",void this.getrecordList();this.startTime=e[0],this.endTime=e[1],this.getrecordList()},searchCst:function(e){this.getrecordList()},searchSfn:function(){this.getrecordList()},handleSizeChange:function(e){this.pagesize=e,this.pagenum=1,this.getrecordList()},handleCurrentChange:function(e){this.pagenum=e,this.getrecordList()}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"history"},[r("el-form",{attrs:{inline:!0}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:" 下载时间:"}},[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM",clearable:""},on:{change:e.searchTime},model:{value:e.timeValue,callback:function(t){e.timeValue=t},expression:"timeValue"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"客户名称"}},[r("el-input",{attrs:{lg:12},nativeOn:{keyup:function(t){return e.searchCst(t)}},model:{value:e.customerName,callback:function(t){e.customerName=t},expression:"customerName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"软件名称"}},[r("el-input",{attrs:{lg:12},nativeOn:{keyup:function(t){return e.searchSfn(t)}},model:{value:e.software.name,callback:function(t){e.$set(e.software,"name",t)},expression:"software.name"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:5}})],1)],1),e._v(" "),r("el-table",{staticStyle:{"margin-top":"20px"},attrs:{data:e.historyList,border:"",size:"mini"}},[r("el-table-column",{attrs:{align:"center",type:"index",label:"序号",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"customerName",label:"客户名称"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.passCustomerDetail(a)}}},[e._v(e._s(a.customerName))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"software.name",label:"软件名称"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.passDetail(a)}}},[e._v(e._s(a.software.name))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"software.version",label:"版本号"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"user.name",label:"下载人员"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"downloadTime",label:"下载时间"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{plain:"",size:"small",icon:"el-icon-delete",type:"danger"},on:{click:function(r){return e.delCurrentProject(t.row)}}})]}}])})],1),e._v(" "),r("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"","current-page":e.page,"page-sizes":[30,50,80],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-dialog",{attrs:{title:"详情",visible:e.detailVisible,width:"40%"},on:{"update:visible":function(t){e.detailVisible=t}}},[r("table",{staticClass:"selfTable",attrs:{border:"1"}},[r("tr",{staticClass:"tr"},[r("td",[r("b",[e._v("软件名称")])]),e._v(" "),r("td",[e._v(e._s(e.detailForm.software.name))])]),e._v(" "),r("tr",[r("td",[r("b",[e._v("版本号")])]),e._v(" "),r("td",[e._v(e._s(e.detailForm.software.version))])]),e._v(" "),r("tr",[r("td",[r("b",[e._v("上传时间")])]),e._v(" "),r("td",[e._v(e._s(e.detailForm.software.uploadTime))])]),e._v(" "),r("tr",[r("td",[r("b",[e._v("上传人")])]),e._v(" "),r("td",[e._v(e._s(e.detailForm.software.user.name))])]),e._v(" "),r("tr",[r("td",[r("b",[e._v("下载次数")])]),e._v(" "),r("td",[e._v(e._s(e.detailForm.software.downloadSize))])]),e._v(" "),r("tr",[r("td",[r("b",[e._v("项目名称")])]),e._v(" "),r("td",[e._v(e._s(e.detailForm.software.swProject.projectName))])])]),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.detailVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.detailVisible=!1}}},[e._v("确 定")])],1)]),e._v(" "),r("el-dialog",{attrs:{title:"详情",visible:e.detailCustomerVisible,width:"40%"},on:{"update:visible":function(t){e.detailCustomerVisible=t}}},[r("table",{staticClass:"selfTable",attrs:{border:"1"}},[r("tr",{staticClass:"tr"},[r("td",[r("b",[e._v("客户名称")])]),e._v(" "),r("td",[e._v(e._s(e.CustomerdetailForm.customerName))])]),e._v(" "),r("tr",[r("td",[r("b",[e._v("地址")])]),e._v(" "),r("td",[e._v(e._s(e.CustomerdetailForm.customerAddress))])]),e._v(" "),r("tr",[r("td",[r("b",[e._v("邮箱")])]),e._v(" "),r("td",[e._v(e._s(e.CustomerdetailForm.customerEmail))])]),e._v(" "),r("tr",[r("td",[r("b",[e._v("使用人")])]),e._v(" "),r("td",[e._v(e._s(e.CustomerdetailForm.useName))])]),e._v(" "),r("tr",[r("td",[r("b",[e._v("使用部门")])]),e._v(" "),r("td",[e._v(e._s(e.CustomerdetailForm.useDepartment))])]),e._v(" "),r("tr",[r("td",[r("b",[e._v("设备信息")])]),e._v(" "),r("td",[e._v(e._s(e.CustomerdetailForm.deviceInfo))])]),e._v(" "),r("tr",[r("td",[r("b",[e._v("固件信息")])]),e._v(" "),r("td",[e._v(e._s(e.CustomerdetailForm.firmwareInfo))])]),e._v(" "),r("tr",[r("td",[r("b",[e._v("描述")])]),e._v(" "),r("td",[e._v(e._s(e.CustomerdetailForm.comment))])])]),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.detailCustomerVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.detailCustomerVisible=!1}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var c=r("VU/8")(o,l,!1,function(e){r("Vgps")},null,null);t.default=c.exports},Vgps:function(e,t){}});
//# sourceMappingURL=9.cab98a0c4c962a14023a.js.map