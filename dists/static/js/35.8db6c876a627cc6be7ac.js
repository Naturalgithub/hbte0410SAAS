webpackJsonp([35],{"9AJC":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("Xxa5"),n=r.n(a),o=r("exGp"),i=r.n(o),s={data:function(){return{pagenum:"",total:0,page:1,pageSize:50,searchform:{projectName:""},dialogVisible:!1,editVisible:!1,projectList:[],editForm:{projectName:"",comment:"",id:""},form:{projectName:"",comment:""},rules:{bankName:[{required:!0,message:"请输入正确数据",trigger:["blur","change"]},{min:3,max:12,message:"字符长度在 1 到 12 个字符",trigger:["blur","change"]}],bankAddress:[{required:!0,message:"请输入正确数据",trigger:["blur","change"]},{min:3,max:12,message:"字符长度在 1 到 12 个字符",trigger:["blur","change"]}]}}},created:function(){this.getProjectList()},methods:{aaaa:function(e,t){},showEditDialog:function(e){this.editVisible=!0,this.editForm.projectName=e.projectName,this.editForm.comment=e.comment,this.editForm.id=e.id},handleSizeChange:function(e){this.pagesize=e,this.pagenum=1,this.getProjectList()},handleCurrentChange:function(e){this.pagenum=e,this.getProjectList()},getProjectList:function(){var e=this;return i()(n.a.mark(function t(){var r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.getProjectList({projectName:e.searchform.projectName,page:e.page,pageSize:e.pageSize});case 2:r=t.sent,e.total=r.result.length,e.projectList=r.result;case 6:case"end":return t.stop()}},t,e)}))()},sureUpdate:function(){var e=this;return i()(n.a.mark(function t(){var r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.updateProjectList(e.editForm);case 2:0==(r=t.sent).code?e.$message.success("修改成功"):e.$message.error(r.message),e.editVisible=!1,e.getProjectList();case 7:case"end":return t.stop()}},t,e)}))()},sureAdd:function(){var e=this;return i()(n.a.mark(function t(){var r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.form.projectName){t.next=3;break}return e.$message.error("请输入项目名称"),t.abrupt("return");case 3:return t.next=5,e.$http.addProjectList(e.form);case 5:0==(r=t.sent).code?(e.$message.success("添加成功"),e.form.projectName="",e.form.comment=""):e.$message.error(r.message),e.dialogVisible=!1,e.getProjectList();case 9:case"end":return t.stop()}},t,e)}))()},delUser:function(e){var t=this;return i()(n.a.mark(function r(){var a;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=1,r.next=4,t.$confirm("亲, 你确认要删除么?","温馨提示",{type:"warning"});case 4:return r.next=6,t.$http.deleteProjectList({id:e.id});case 6:0==(a=r.sent).code?(t.$message.success("删除成功"),t.getProjectList()):t.$message.error(a.message),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1);case 13:case"end":return r.stop()}},r,t,[[1,10]])}))()},serch:function(e){this.getProjectList()}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"users"},[r("el-button",{staticClass:"addBtn",attrs:{type:"success"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加")]),e._v(" "),r("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:" 项目名称检索:"}},[r("el-input",{nativeOn:{keyup:function(t){return e.serch(t)}},model:{value:e.searchform.projectName,callback:function(t){e.$set(e.searchform,"projectName",t)},expression:"searchform.projectName"}})],1)],1)],1)],1),e._v(" "),r("el-table",{attrs:{data:e.projectList,border:"",size:"mini"}},[r("el-table-column",{attrs:{align:"center",type:"expand",label:"详情"},on:{"expand-change":e.aaaa},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[""==a.softwares?r("p",{staticStyle:{"text-align":"center"}},[e._v("暂无数据")]):r("el-table",{attrs:{data:a.softwares,border:"",size:"mini"}},[r("el-table-column",{attrs:{align:"center",type:"index",label:"序号",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"name",label:"软件名称"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"version",label:"版本号"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"uploadTime",label:"上传时间"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"user.name",label:"上传人"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"downloadSize",label:"下载次数"}})],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",type:"index",label:"序号",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"projectName",label:"项目名称"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"comment",label:"描述"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{plain:"",size:"small",type:"primary",icon:"el-icon-edit"},on:{click:function(r){return e.showEditDialog(t.row)}}}),e._v(" "),r("el-button",{attrs:{plain:"",size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(r){return e.delUser(t.row)}}})]}}])})],1),e._v(" "),r("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"","current-page":e.page,"page-sizes":[30,50,80],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-dialog",{attrs:{title:"项目管理",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[r("span",{staticClass:"dialog-footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.sureAdd}},[e._v("确 定")])],1)]},proxy:!0}])},[r("el-form",{ref:"form2",attrs:{model:e.form,"status-icon":"","label-width":"100px"}},[r("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[r("el-input",{model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"项目描述",prop:"projectName"}},[r("el-input",{model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",t)},expression:"form.comment"}})],1)],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"修改",visible:e.editVisible,width:"40%"},on:{"update:visible":function(t){e.editVisible=t}}},[r("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"项目名称"}},[r("el-input",{model:{value:e.editForm.projectName,callback:function(t){e.$set(e.editForm,"projectName",t)},expression:"editForm.projectName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"项目描述"}},[r("el-input",{model:{value:e.editForm.comment,callback:function(t){e.$set(e.editForm,"comment",t)},expression:"editForm.comment"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.sureUpdate}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},c=r("VU/8")(s,l,!1,null,null,null);t.default=c.exports}});
//# sourceMappingURL=35.8db6c876a627cc6be7ac.js.map