{"version":3,"sources":["webpack:///src/views/monesystem/system/CustomerManagement.vue","webpack:///./src/views/monesystem/system/CustomerManagement.vue?ea0a","webpack:///./src/views/monesystem/system/CustomerManagement.vue"],"names":["CustomerManagement","data","baseurl","this","$store","state","wenjian","form1","total","page","pageSize","dialogVisible","editVisible","assignForm","customerName","customerPhone","editForm","customerInfoId","rules","bankName","required","message","trigger","min","max","bankAddress","huixianame","errorMsg","successMsg","daorudialogVisible","created","getCMList","methods","daorubtn","getFile","event","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","form","files","wrap","_context","prev","next","FormData","target","name","append","stop","sureupload","_this2","_callee2","that","_context2","jquery_default","ajax","url","type","dataType","cache","processData","contentType","success","code","$message","error","handleSizeChange","val","handleCurrentChange","_this3","_callee3","_ref","_context3","$axios","get","params","sent","count","addUser","_this4","_callee4","_$axios$post","_context4","$refs","ruleForm","validate","post","t0","showEditDialog","row","delUser","id","_this5","_callee5","_ref2","_context5","$confirm","editMoney","_this6","_callee6","_ref3","_context6","system_CustomerManagement","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","margin","attrs","on","click","$event","_v","margin-bottom","title","visible","width","update:visible","href","ref","change","slot","border","size","label","prop","scopedSlots","_u","key","fn","obj","plain","icon","margin-top","background","current-page","page-sizes","page-size","layout","size-change","current-change","model","label-width","placeholder","value","callback","$$v","$set","expression","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/10.87b3fadfdeaaf009c31c.js","sourcesContent":["<template>\r\n<!-- 客户管理 -->\r\n  <div class=\"CustomerManagement\">\r\n    <!-- 按钮添加 -->\r\n    <el-button\r\n      class=\"addBtn\"\r\n      type=\"success\"\r\n      style=\"margin:0 0 10px 0\"\r\n      @click=\"dialogVisible = true\"\r\n    >添加</el-button>\r\n    <el-button type=\"success\" style=\"margin-bottom:20px\" @click=\"daorubtn\">导入</el-button>\r\n    <!-- 导入模态框 -->\r\n    <el-dialog title=\"导入\" :visible.sync=\"daorudialogVisible\" width=\"30%\">\r\n      <el-row>\r\n        <!-- class=\"luruinput\" -->\r\n        <a href=\"###\">\r\n          <input type=\"file\" ref=\"fileInput\" @change=\"getFile\" />\r\n          <!-- 导&nbsp;&nbsp;&nbsp;&nbsp;入 -->\r\n        </a>\r\n      </el-row>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"daorudialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"sureupload\">确定录入</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 列表 -->\r\n    <el-table :data=\"CustomerManagement\" border style=\"width: 100%\" size=\"mini\">\r\n      <el-table-column type=\"index\" label=\"序号\" width=\"50\" />\r\n      <el-table-column prop=\"customerName\" label=\"客户名称\" />\r\n      <el-table-column prop=\"customerPhone\" label=\"客户联系电话\" />\r\n      <el-table-column label=\"操作\">\r\n        <!-- row这个参数, 是element ui内部, 定义slot时, 传递过来的 -->\r\n        <template v-slot:default=\"obj\">\r\n          <el-button\r\n            plain\r\n            size=\"small\"\r\n            @click=\"showEditDialog(obj.row)\"\r\n            type=\"primary\"\r\n            icon=\"el-icon-edit\"\r\n          />\r\n          <el-button\r\n            plain\r\n            size=\"small\"\r\n            @click=\"delUser(obj.row.customerInfoId)\"\r\n            type=\"danger\"\r\n            icon=\"el-icon-delete\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <el-pagination\r\n      background\r\n      style=\"margin-top:10px;\"\r\n      :current-page=\"page\"\r\n      @size-change=\"handleSizeChange\"\r\n      :page-sizes=\"[30, 50, 80]\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :page-size=\"pageSize\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"total\"\r\n    />\r\n    <!-- 添加模态框 -->\r\n    <el-dialog title=\"客户管理\" :visible.sync=\"dialogVisible\" width=\"35%\">\r\n      <span>\r\n        <!-- 表单 -->\r\n        <el-form :rules=\"rules\" ref=\"ruleForm\" :model=\"assignForm\" label-width=\"80px\">\r\n          <el-form-item label=\"客户名称\" prop=\"customerName\">\r\n            <el-input v-model=\"assignForm.customerName\" placeholder=\"请输入客户名称\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"联系方式\" prop=\"customerPhone\">\r\n            <el-input v-model=\"assignForm.customerPhone\" placeholder=\"请输入联系方式\" />\r\n          </el-form-item>\r\n        </el-form>\r\n      </span>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addUser\">添 加</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 编辑的对话框 -->\r\n    <el-dialog title=\"修改\" :visible.sync=\"editVisible\" width=\"35%\">\r\n      <el-form ref=\"editForm\" :model=\"editForm\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-form-item label=\"客户名称\">\r\n          <el-input v-model=\"editForm.customerName\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"联系电话\" prop=\"email\">\r\n          <el-input v-model=\"editForm.customerPhone\" />\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editMoney\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery'\r\nexport default {\r\n  data () {\r\n    return {\r\n      baseurl: this.$store.state.baseurl,\r\n      wenjian: '',\r\n      form1: '',\r\n\r\n      total: 0,\r\n      // 当前页\r\n      page: 1,\r\n      // 每页条数\r\n      pageSize: 50,\r\n      CustomerManagement: [],\r\n      dialogVisible: false,\r\n      editVisible: false,\r\n      // 添加表格\r\n      assignForm: {\r\n        customerName: '',\r\n        customerPhone: ''\r\n      },\r\n      // 编辑表格\r\n      editForm: {\r\n        customerInfoId: '',\r\n        customerName: '',\r\n        customerPhone: ''\r\n      },\r\n      // 表单校验规则\r\n      rules: {\r\n        bankName: [\r\n          {\r\n            required: true,\r\n            message: '请输入正确数据',\r\n            trigger: ['blur', 'change']\r\n          },\r\n          {\r\n            min: 3,\r\n            max: 12,\r\n            message: '用户名长度在 1 到 12 个字符',\r\n            trigger: ['blur', 'change']\r\n          }\r\n        ],\r\n        bankAddress: [\r\n          {\r\n            required: true,\r\n            message: '请输入正确数据',\r\n            trigger: ['blur', 'change']\r\n          },\r\n          {\r\n            min: 3,\r\n            max: 12,\r\n            message: '密码长度在 1 到 12 个字符',\r\n            trigger: ['blur', 'change']\r\n          }\r\n        ]\r\n      },\r\n      huixianame: '',\r\n      errorMsg: '',\r\n      successMsg: '',\r\n      daorudialogVisible: false\r\n    }\r\n  },\r\n  created () {\r\n    this.getCMList()\r\n  },\r\n  methods: {\r\n    daorubtn () {\r\n      this.daorudialogVisible = true\r\n    },\r\n    async getFile (event) {\r\n      let form = new FormData() // FormData 对象\r\n      // console.log(form)\r\n      this.form1 = form\r\n      const files = event.target.files\r\n      console.log(files[0])\r\n      this.huixianame = files[0].name\r\n      // console.log(event)\r\n      this.wenjian = files[0]\r\n      this.form1.append('file', this.wenjian) // 文件对象 注意第二个是一个文件对象\r\n      this.form1.append('incomeExpenseType', 4) // 单据类型\r\n      // 类似于 File { name: \"付款.xls\", lastModified: 1575285768023, lastModifiedDate: Mon Dec 02 2019 19: 22: 48 GMT + 0800(中国标准时间), webkitRelativePath: \"\", size: 22016, … }\r\n    },\r\n    async sureupload () {\r\n      // this.huixianame = ''\r\n      this.daorudialogVisible = false\r\n      // console.log(this.wenjian)\r\n      // console.log(this.form1)\r\n      // let form = new FormData() // FormData 对象\r\n      // form.append('file', this.wenjian ) // 文件对象\r\n      let that = this\r\n      $.ajax({\r\n        url: `${that.baseurl}hbte-financial/hbte/customer/importCustomerInfo`,\r\n\r\n        // 'http://192.168.2.38:8080/hbte-financial/hbte/customer/importCustomerInfo', // url地址\r\n        type: 'POST', // 上传方式\r\n        data: this.form1, // 上传formdata封装的数据\r\n        dataType: 'JSON',\r\n        cache: false, // 不缓存\r\n        processData: false, // jQuery不要去处理发送的数据\r\n        contentType: false, // jQuery不要去设置Content-Type请求头error\r\n        success: function (data) {\r\n          // 成功回调shu\r\n          that.getCMList()\r\n          console.log(data)\r\n          if (data.code == 0) {\r\n            that.$message.success('导入成功,不会覆盖原有数据')\r\n          } else {\r\n            that.$message.error(data.errorMsg)\r\n          }\r\n        },\r\n        error: function (data) {\r\n          // 失败回调\r\n          console.log(data)\r\n        }\r\n      })\r\n    },\r\n    handleSizeChange (val) {\r\n      // console.log(`每页 ${val} 条`)\r\n      // 更新每页条数\r\n      this.pageSize = val\r\n      // 只要修改了每页条数, 数据所在的页码发生了变化了, 回到第一页\r\n      this.page = 1\r\n      // 重新渲染\r\n      this.getCMList()\r\n    },\r\n    // 只要当前页变化时, 触发函数\r\n    handleCurrentChange (val) {\r\n      // console.log(`当前页: ${val}`)\r\n      // 更新当前页\r\n      this.page = val\r\n      // 重新渲染\r\n      this.getCMList()\r\n    },\r\n    async getCMList () {\r\n      const { data } = await this.$axios.get(\r\n        'hbte-financial/hbte/customer/customerInfoList',\r\n        { params: { page: this.page, pageSize: this.pageSize } }\r\n      )\r\n      console.log(data)\r\n      this.CustomerManagement = data.data\r\n      this.total = data.count\r\n    },\r\n    // 添加模态确定\r\n    async addUser () {\r\n      console.log(this.assignForm)\r\n\r\n      try {\r\n        console.log(this.assignForm)\r\n\r\n        await this.$refs.ruleForm.validate()\r\n        const { data } = this.$axios.post(\r\n          'hbte-financial/hbte/customer/saveCustomerInfo',\r\n          this.assignForm\r\n        )\r\n        this.getCMList()\r\n        // this.assignForm.customerName = ''\r\n        // this.assignForm.customerPhone = ''\r\n        console.log(data)\r\n        this.$message.success('添加成功')\r\n        this.dialogVisible = false\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n      this.getCMList()\r\n    },\r\n    showEditDialog (row) {\r\n      this.editVisible = true\r\n      //  console.log(row)\r\n      // 回显基本的数据\r\n      this.editForm.customerName = row.customerName\r\n      this.editForm.customerPhone = row.customerPhone\r\n\r\n      this.editForm.customerInfoId = row.customerInfoId\r\n    },\r\n    async delUser (id) {\r\n      console.log(id)\r\n\r\n      // console.log(id)\r\n      // console.log(data)\r\n      try {\r\n        await this.$confirm('亲, 你确认要删除么?', '温馨提示', {\r\n          type: 'warning'\r\n        })\r\n        const { data } = await this.$axios.post(\r\n          'hbte-financial/hbte/customer/delCustomerInfo',\r\n          {\r\n            customerInfoId: id\r\n          }\r\n        )\r\n        if (data.code === 0) {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '删除成功!'\r\n          })\r\n        } else {\r\n          this.$message.error(data.errorMsg)\r\n        }\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n\r\n      this.getCMList()\r\n    },\r\n    // 编辑模态框\r\n    async editMoney () {\r\n      const { data } = await this.$axios.post(\r\n        'hbte-financial/hbte/customer/updateCustomerInfo',\r\n        this.editForm\r\n      )\r\n      if (data.code === 0) {\r\n        this.$message.success('修改成功')\r\n      } else {\r\n        this.$message.error(data.errorMsg)\r\n      }\r\n      this.editVisible = false\r\n      console.log(data)\r\n      this.getCMList()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.luruinput {\r\n  padding: 8px 20px 8px 20px;\r\n  height: 20px;\r\n  line-height: 20px;\r\n  position: relative;\r\n  cursor: pointer;\r\n  color: rgb(103, 194, 58);\r\n  background: rgb(240, 249, 235);\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  display: inline-block;\r\n  *display: inline;\r\n  *zoom: 1;\r\n}\r\n.luruinput input {\r\n  position: absolute;\r\n  font-size: 100px;\r\n  right: 0;\r\n  top: 0;\r\n  opacity: 0;\r\n  filter: alpha(opacity=0);\r\n  cursor: pointer;\r\n}\r\n.a-luruinput:hover {\r\n  color: #444;\r\n  background: #eee;\r\n  border-color: #ccc;\r\n  text-decoration: none;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/monesystem/system/CustomerManagement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"CustomerManagement\"},[_c('el-button',{staticClass:\"addBtn\",staticStyle:{\"margin\":\"0 0 10px 0\"},attrs:{\"type\":\"success\"},on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(\"添加\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"type\":\"success\"},on:{\"click\":_vm.daorubtn}},[_vm._v(\"导入\")]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"导入\",\"visible\":_vm.daorudialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.daorudialogVisible=$event}}},[_c('el-row',[_c('a',{attrs:{\"href\":\"###\"}},[_c('input',{ref:\"fileInput\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.getFile}})])]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.daorudialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sureupload}},[_vm._v(\"确定录入\")])],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.CustomerManagement,\"border\":\"\",\"size\":\"mini\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"customerName\",\"label\":\"客户名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"customerPhone\",\"label\":\"客户联系电话\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(obj){return [_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.showEditDialog(obj.row)}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"small\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.delUser(obj.row.customerInfoId)}}})]}}])})],1),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"background\":\"\",\"current-page\":_vm.page,\"page-sizes\":[30, 50, 80],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"客户管理\",\"visible\":_vm.dialogVisible,\"width\":\"35%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('span',[_c('el-form',{ref:\"ruleForm\",attrs:{\"rules\":_vm.rules,\"model\":_vm.assignForm,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"客户名称\",\"prop\":\"customerName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入客户名称\"},model:{value:(_vm.assignForm.customerName),callback:function ($$v) {_vm.$set(_vm.assignForm, \"customerName\", $$v)},expression:\"assignForm.customerName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系方式\",\"prop\":\"customerPhone\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入联系方式\"},model:{value:(_vm.assignForm.customerPhone),callback:function ($$v) {_vm.$set(_vm.assignForm, \"customerPhone\", $$v)},expression:\"assignForm.customerPhone\"}})],1)],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"添 加\")])],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"修改\",\"visible\":_vm.editVisible,\"width\":\"35%\"},on:{\"update:visible\":function($event){_vm.editVisible=$event}}},[_c('el-form',{ref:\"editForm\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"客户名称\"}},[_c('el-input',{model:{value:(_vm.editForm.customerName),callback:function ($$v) {_vm.$set(_vm.editForm, \"customerName\", $$v)},expression:\"editForm.customerName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系电话\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.editForm.customerPhone),callback:function ($$v) {_vm.$set(_vm.editForm, \"customerPhone\", $$v)},expression:\"editForm.customerPhone\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editMoney}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e6056038\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/monesystem/system/CustomerManagement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e6056038\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CustomerManagement.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CustomerManagement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CustomerManagement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e6056038\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CustomerManagement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/monesystem/system/CustomerManagement.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}