webpackJsonp([14],{LjVo:function(e,t){},MDGH:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),i=a.n(s),o=a("exGp"),r=a.n(o),n={data:function(){return{options:"",optionss:"",total:0,page:1,pageSize:50,data:[],defaultProps:{children:"children",label:"label"},AdddialogVisible:!1,EditdialogVisible:!1,GetpowerdialogVisible:!1,currentPage4:4,value:!0,Addform:{moduleName:"",appInfoIds:""},Editform:{moduleName:"",appInfoIds:""},tableData:[]}},created:function(){this.getJueseList(),this.getappList()},methods:{getappList:function(){var e=this;return r()(i.a.mark(function t(){var a,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios("hbte-dingding/app/list");case 2:a=t.sent,s=a.data,e.options=s.result.appInfos;case 6:case"end":return t.stop()}},t,e)}))()},changeState:function(e){var t=this;return r()(i.a.mark(function a(){var s,o;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(2!=e.isDisable){a.next=11;break}return a.next=4,t.$axios.post("hbte-dingding/sys/update",{isDisable:e.isDisable,sysModuleId:e.sysModuleId});case 4:s=a.sent,s.data,t.$message.info("停用后,首页将没有此模块"),t.getJueseList(),a.next=17;break;case 11:return a.next=13,t.$axios.post("hbte-dingding/sys/update",{isDisable:e.isDisable,sysModuleId:e.sysModuleId});case 13:o=a.sent,o.data,t.getJueseList();case 17:case"end":return a.stop()}},a,t)}))()},getJueseList:function(){var e=this;return r()(i.a.mark(function t(){var a,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios("hbte-dingding/sys/list",{params:{page:e.page,pageSize:e.pageSize}});case 2:a=t.sent,s=a.data,e.tableData=s.result.sysModules,e.total=s.count;case 7:case"end":return t.stop()}},t,e)}))()},AddUser:function(){this.AdddialogVisible=!0},sureadd:function(){var e=this;return r()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.post("hbte-dingding/sys/add",e.Addform);case 2:a=t.sent,0==a.data.code?e.$message.success("添加成功"):e.$message.error("添加失败"),e.getJueseList(),e.AdddialogVisible=!1;case 8:case"end":return t.stop()}},t,e)}))()},editthis:function(e){this.EditdialogVisible=!0,this.Editform.moduleName=e.row.moduleName,this.Editform.roleDescribe=e.row.roleDescribe,this.Editform.sysModuleId=e.row.sysModuleId,this.Editform.appInfoIds=e.row.appInfoIds},sureedit:function(){var e=this;return r()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.post("hbte-dingding/sys/update",e.Editform);case 2:a=t.sent,0==a.data.code?e.$message.success("修改成功"):e.$message.error("修改失败"),e.getJueseList(),e.EditdialogVisible=!1;case 7:case"end":return t.stop()}},t,e)}))()},delrole:function(e){var t=this;return r()(i.a.mark(function a(){var s,o,r;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$confirm("亲, 你确认要删除么?","温馨提示",{type:"warning"});case 3:return s=e.row.sysModuleId,a.next=6,t.$axios.post("hbte-dingding/sys/delete",{sysModuleId:s});case 6:o=a.sent,0==(r=o.data).code?t.$message({type:"success",message:"删除成功!"}):t.$message.error(r.message),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0);case 14:t.getJueseList();case 15:case"end":return a.stop()}},a,t,[[0,11]])}))()},getpower:function(){this.GetpowerdialogVisible=!0},handleSizeChange:function(e){this.pageSize=e,this.page=1,this.getJueseList()},handleCurrentChange:function(e){this.page=e,this.getJueseList()}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addArticle"},[a("el-button",{staticClass:"four-btn",attrs:{type:"success"},on:{click:e.AddUser}},[e._v("添加模块")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"moduleName",label:"模块名称"}}),e._v(" "),a("el-table-column",{attrs:{label:"停用/启用"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":2},on:{change:function(a){return e.changeState(t.row)}},model:{value:t.row.isDisable,callback:function(a){e.$set(t.row,"isDisable",a)},expression:"scope.row.isDisable"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticStyle:{"mragin-left":"10px","margin-right":"10"},attrs:{type:"primary"},on:{click:function(a){return e.editthis(t)}}},[e._v("编辑")]),e._v("  | \n        "),e._v(" "),a("el-link",{staticStyle:{"mragin-left":"10px","margin-right":"10"},attrs:{type:"danger"},on:{click:function(a){return e.delrole(t)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"","current-page":e.page,"page-sizes":[2,30,50,80],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"新增模块",visible:e.AdddialogVisible,width:"30%"},on:{"update:visible":function(t){e.AdddialogVisible=t}}},[a("el-form",{attrs:{model:e.Addform,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"模块名称"}},[a("el-input",{attrs:{placeholder:"请输入模块名字"},model:{value:e.Addform.moduleName,callback:function(t){e.$set(e.Addform,"moduleName",t)},expression:"Addform.moduleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选择应用"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.Addform.appInfoIds,callback:function(t){e.$set(e.Addform,"appInfoIds",t)},expression:"Addform.appInfoIds"}},e._l(e.options,function(e){return a("el-option",{key:e.appInfoId,attrs:{label:e.appName,value:e.appInfoId}})}),1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.AdddialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.sureadd}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.EditdialogVisible,width:"30%"},on:{"update:visible":function(t){e.EditdialogVisible=t}}},[a("el-form",{attrs:{model:e.Editform,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"模块名称"}},[a("el-input",{attrs:{placeholder:"请输入模块名字"},model:{value:e.Editform.moduleName,callback:function(t){e.$set(e.Editform,"moduleName",t)},expression:"Editform.moduleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选择应用"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.Editform.appInfoIds,callback:function(t){e.$set(e.Editform,"appInfoIds",t)},expression:"Editform.appInfoIds"}},e._l(e.options,function(e){return a("el-option",{key:e.appInfoId,attrs:{label:e.appName,value:e.appInfoId}})}),1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.EditdialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.sureedit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"模块授权",visible:e.GetpowerdialogVisible,width:"30%"},on:{"update:visible":function(t){e.GetpowerdialogVisible=t}}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"信息高速公路"}},[e._v("信息高速公路")]),e._v(" "),a("el-tab-pane",{attrs:{label:"财务系统"}},[a("el-tree",{attrs:{data:e.data,"show-checkbox":"","node-key":"id","default-expanded-keys":[2,3],"default-checked-keys":[5],props:e.defaultProps}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"工时系统"}},[e._v("工时系统")])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.GetpowerdialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.GetpowerdialogVisible=!1}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(n,l,!1,function(e){a("LjVo")},"data-v-85314baa",null);t.default=d.exports}});
//# sourceMappingURL=14.9862fa73fca24cb54281.js.map