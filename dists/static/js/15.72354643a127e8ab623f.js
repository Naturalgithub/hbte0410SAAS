webpackJsonp([15],{ZLvb:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("Xxa5"),n=r.n(a),i=r("exGp"),o=r.n(i),s={data:function(){return{query:"",total:0,page:1,pageSize:50,momeyManagementList:[],dialogVisible:!1,form:{currencyName:"",currencyRatio:""},editForm:{currencyInfoId:"",currencyName:"",currencyRatio:""},rules:{currencyName:[{required:!0,message:"请输入正确数据",trigger:["blur","change"]},{min:3,max:12,message:"字符长度在 1 到 12 个字符",trigger:["blur","change"]}],currencyRatio:[{required:!0,message:"请输入正确数据",trigger:["blur","change"]},{min:3,max:12,message:"字符长度在 1 到 12 个字符",trigger:["blur","change"]}]},editVisible:!1,assignVisible:!1,assignForm:{id:"",rid:"",username:""},roleList:[]}},created:function(){this.getMoneyList()},methods:{getMoneyList:function(){var e=this;return o()(n.a.mark(function t(){var r,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("hbte-financial/hbte/currency/currencyInfoList",{params:{page:e.page,pageSize:e.pageSize}});case 2:r=t.sent,a=r.data,e.momeyManagementList=a.data,e.total=a.count;case 7:case"end":return t.stop()}},t,e)}))()},handleSizeChange:function(e){this.pageSize=e,this.page=1,this.getMoneyList()},handleCurrentChange:function(e){this.page=e,this.getMoneyList()},showEditDialog:function(e){this.editVisible=!0,this.editForm.currencyName=e.currencyName,this.editForm.currencyRatio=e.currencyRatio,this.editForm.currencyInfoId=e.currencyInfoId},delUser:function(e){var t=this;return o()(n.a.mark(function r(){var a,i;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$confirm("亲, 你确认要删除么?","温馨提示",{type:"warning"});case 3:return r.next=5,t.$axios.post("hbte-financial/hbte/currency/delCurrencyInfo",{currencyInfoId:e});case 5:a=r.sent,0===(i=a.data).code?t.$message({type:"success",message:"删除成功!"}):t.$message.error(i.errorMsg),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0);case 13:t.getMoneyList();case 14:case"end":return r.stop()}},r,t,[[0,10]])}))()},editMoney:function(){var e=this;return o()(n.a.mark(function t(){var r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.post("hbte-financial/hbte/currency/updateCurrencyInfo",e.editForm);case 2:r=t.sent,0===r.data.code?e.$message.success("修改成功"):e.$message.error("修改失败"),e.editVisible=!1,e.getMoneyList();case 8:case"end":return t.stop()}},t,e)}))()},moneyadd:function(){var e=this;return o()(n.a.mark(function t(){var r,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.ruleForm.validate();case 3:return e.dialogVisible=!1,t.next=6,e.$axios.post("hbte-financial/hbte/currency/saveCurrencyInfo",e.form);case 6:r=t.sent,0===(a=r.data).code?e.$message.success("添加成功"):e.$message.error(a.errorMsg),e.getMoneyList(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0);case 15:case"end":return t.stop()}},t,e,[[0,12]])}))()}}},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"users"},[r("el-button",{staticClass:"addBtn",attrs:{type:"success"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加")]),e._v(" "),r("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:e.momeyManagementList,border:"",size:"mini"}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{prop:"currencyName",label:"货币名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"currencyRatio",label:"货币兑率",sortable:"","default-sort":{prop:"date",order:"descending"}}}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{plain:"",size:"small",type:"primary",icon:"el-icon-edit"},on:{click:function(r){return e.showEditDialog(t.row)}}}),e._v(" "),r("el-button",{attrs:{plain:"",size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(r){return e.delUser(t.row.currencyInfoId)}}})]}}])})],1),e._v(" "),r("el-pagination",{attrs:{background:"","current-page":e.page,"page-sizes":[30,50,80],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-dialog",{attrs:{title:"货币管理",visible:e.dialogVisible,width:"35%"},on:{"update:visible":function(t){e.dialogVisible=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[r("span",{staticClass:"dialog-footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.moneyadd}},[e._v("确 定")])],1)]},proxy:!0}])},[r("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.form,"status-icon":"","label-width":"100px"}},[r("el-form-item",{attrs:{label:"货币名称",prop:"currencyName"}},[r("el-input",{attrs:{placeholder:"货币名称"},model:{value:e.form.currencyName,callback:function(t){e.$set(e.form,"currencyName",t)},expression:"form.currencyName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"货币兑率",prop:"currencyRatio"}},[r("el-input",{attrs:{placeholder:"货币兑率"},model:{value:e.form.currencyRatio,callback:function(t){e.$set(e.form,"currencyRatio",t)},expression:"form.currencyRatio"}})],1)],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"修改",visible:e.editVisible,width:"35%"},on:{"update:visible":function(t){e.editVisible=t}}},[r("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"货币名称"}},[r("el-input",{model:{value:e.editForm.currencyName,callback:function(t){e.$set(e.editForm,"currencyName",t)},expression:"editForm.currencyName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"货币兑率",prop:"email"}},[r("el-input",{model:{value:e.editForm.currencyRatio,callback:function(t){e.$set(e.editForm,"currencyRatio",t)},expression:"editForm.currencyRatio"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.editMoney}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=r("VU/8")(s,c,!1,function(e){r("oiE/")},"data-v-7ba3e6bb",null);t.default=l.exports},"oiE/":function(e,t){}});
//# sourceMappingURL=15.72354643a127e8ab623f.js.map